/**
  Generated main.c file from MPLAB Code Configurator

  @Company
    Microchip Technology Inc.

  @File Name
    main.c

  @Summary
    This is the generated main.c using PIC24 / dsPIC33 / PIC32MM MCUs.

  @Description
    This source file provides main entry point for system initialization and application code development.
    Generation Information :
        Product Revision  :  PIC24 / dsPIC33 / PIC32MM MCUs - 1.171.4
        Device            :  PIC24FJ512GU410
    The generated drivers are tested against the following:
        Compiler          :  XC16 v2.10
        MPLAB 	          :  MPLAB X v6.05
*/

/*
    (c) 2020 Microchip Technology Inc. and its subsidiaries. You may use this
    software and any derivatives exclusively with Microchip products.

    THIS SOFTWARE IS SUPPLIED BY MICROCHIP "AS IS". NO WARRANTIES, WHETHER
    EXPRESS, IMPLIED OR STATUTORY, APPLY TO THIS SOFTWARE, INCLUDING ANY IMPLIED
    WARRANTIES OF NON-INFRINGEMENT, MERCHANTABILITY, AND FITNESS FOR A
    PARTICULAR PURPOSE, OR ITS INTERACTION WITH MICROCHIP PRODUCTS, COMBINATION
    WITH ANY OTHER PRODUCTS, OR USE IN ANY APPLICATION.

    IN NO EVENT WILL MICROCHIP BE LIABLE FOR ANY INDIRECT, SPECIAL, PUNITIVE,
    INCIDENTAL OR CONSEQUENTIAL LOSS, DAMAGE, COST OR EXPENSE OF ANY KIND
    WHATSOEVER RELATED TO THE SOFTWARE, HOWEVER CAUSED, EVEN IF MICROCHIP HAS
    BEEN ADVISED OF THE POSSIBILITY OR THE DAMAGES ARE FORESEEABLE. TO THE
    FULLEST EXTENT ALLOWED BY LAW, MICROCHIP'S TOTAL LIABILITY ON ALL CLAIMS IN
    ANY WAY RELATED TO THIS SOFTWARE WILL NOT EXCEED THE AMOUNT OF FEES, IF ANY,
    THAT YOU HAVE PAID DIRECTLY TO MICROCHIP FOR THIS SOFTWARE.

    MICROCHIP PROVIDES THIS SOFTWARE CONDITIONALLY UPON YOUR ACCEPTANCE OF THESE
    TERMS.
*/

/**
  Section: Included Files
*/
#include "mcc_generated_files/system.h"
#include "mcc_generated_files/pin_manager.h"
#include "DELAY.h"
#include "mcc_generated_files/spi1.h"
#include "extra_fct.h"
#include <stdlib.h>
#include <stdio.h>

/*
                         Main application
 
 */

uint8_t tab[] = {
    
    0x00, 0x23, 0x00, 0x52, 
    0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x10, 
    0x00, 0x00, 0x01, 0x11, 0x11, 0x11, 0x11, 0x11, 0x12, 0x22, 0x22, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x34, 0x44, 0x44, 0x43, 0x33, 0x32, 0x21, 0x11, 0x11, 0x12, 0x22, 0x22, 0x22, 0x22, 0x21, 0x11, 0x10, 
    0x00, 0x00, 0x01, 0x11, 0x11, 0x11, 0x11, 0x22, 0x22, 0x22, 0x33, 0x44, 0x44, 0x55, 0x54, 0x44, 0x44, 0x44, 0x44, 0x55, 0x55, 0x66, 0x65, 0x55, 0x44, 0x33, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x21, 0x11, 0x10, 
    0x00, 0x00, 0x01, 0x11, 0x11, 0x11, 0x11, 0x22, 0x23, 0x34, 0x44, 0x55, 0x55, 0x55, 0x55, 0x55, 0x55, 0x55, 0x55, 0x56, 0x66, 0x66, 0x66, 0x66, 0x55, 0x54, 0x43, 0x22, 0x22, 0x22, 0x23, 0x32, 0x22, 0x22, 0x11, 0x10, 
    0x00, 0x00, 0x11, 0x11, 0x11, 0x11, 0x12, 0x33, 0x34, 0x45, 0x55, 0x55, 0x55, 0x55, 0x56, 0x66, 0x66, 0x66, 0x66, 0x77, 0x88, 0x77, 0x77, 0x77, 0x66, 0x66, 0x54, 0x32, 0x22, 0x22, 0x23, 0x22, 0x22, 0x22, 0x22, 0x10, 
    0x00, 0x00, 0x11, 0x11, 0x10, 0x12, 0x33, 0x34, 0x44, 0x44, 0x55, 0x55, 0x55, 0x56, 0x66, 0x66, 0x66, 0x67, 0x77, 0x88, 0x88, 0x88, 0x77, 0x77, 0x77, 0x66, 0x55, 0x43, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x20, 
    0x00, 0x01, 0x11, 0x11, 0x11, 0x23, 0x44, 0x44, 0x44, 0x45, 0x55, 0x66, 0x66, 0x67, 0x77, 0x77, 0x77, 0x88, 0x88, 0x99, 0x99, 0x98, 0x88, 0x77, 0x77, 0x76, 0x65, 0x55, 0x32, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x20, 
    0x00, 0x01, 0x11, 0x11, 0x12, 0x34, 0x44, 0x44, 0x55, 0x56, 0x66, 0x77, 0x77, 0x77, 0x77, 0x77, 0x88, 0x89, 0x99, 0x99, 0x99, 0x99, 0x99, 0x88, 0x87, 0x77, 0x66, 0x66, 0x53, 0x22, 0x22, 0x22, 0x22, 0x22, 0x21, 0x20, 
    0x00, 0x11, 0x01, 0x01, 0x23, 0x44, 0x44, 0x45, 0x56, 0x67, 0x77, 0x77, 0x77, 0x77, 0x77, 0x78, 0x88, 0x89, 0x99, 0x99, 0xaa, 0xa9, 0x99, 0x88, 0x88, 0x77, 0x76, 0x66, 0x54, 0x32, 0x22, 0x22, 0x22, 0x32, 0x22, 0x10, 
    0x00, 0x11, 0x11, 0x12, 0x34, 0x44, 0x45, 0x55, 0x66, 0x67, 0x77, 0x77, 0x88, 0x88, 0x77, 0x88, 0x88, 0x89, 0x99, 0x99, 0x99, 0x99, 0x99, 0x88, 0x88, 0x77, 0x77, 0x66, 0x66, 0x53, 0x12, 0x22, 0x22, 0x22, 0x22, 0x10, 
    0x11, 0x11, 0x11, 0x12, 0x34, 0x44, 0x45, 0x56, 0x66, 0x77, 0x77, 0x77, 0x88, 0x88, 0x88, 0x88, 0x88, 0x89, 0x99, 0x99, 0x99, 0x99, 0x99, 0x88, 0x88, 0x87, 0x77, 0x76, 0x66, 0x54, 0x22, 0x22, 0x23, 0x22, 0x22, 0x10, 
    0x11, 0x11, 0x11, 0x23, 0x44, 0x44, 0x55, 0x56, 0x66, 0x77, 0x77, 0x77, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x89, 0x99, 0x99, 0x99, 0x88, 0x88, 0x87, 0x77, 0x76, 0x66, 0x65, 0x42, 0x22, 0x23, 0x32, 0x22, 0x10, 
    0x11, 0x11, 0x12, 0x33, 0x44, 0x45, 0x55, 0x66, 0x67, 0x77, 0x77, 0x78, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x99, 0x98, 0x88, 0x88, 0x87, 0x77, 0x76, 0x66, 0x66, 0x53, 0x22, 0x33, 0x32, 0x21, 0x10, 
    0x11, 0x11, 0x13, 0x34, 0x44, 0x55, 0x56, 0x66, 0x67, 0x77, 0x77, 0x78, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x99, 0x88, 0x88, 0x88, 0x77, 0x77, 0x76, 0x66, 0x66, 0x64, 0x33, 0x33, 0x33, 0x21, 0x10, 
    0x11, 0x11, 0x23, 0x44, 0x45, 0x55, 0x66, 0x66, 0x67, 0x77, 0x77, 0x78, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x98, 0x88, 0x88, 0x88, 0x77, 0x77, 0x77, 0x66, 0x66, 0x65, 0x33, 0x33, 0x33, 0x22, 0x10, 
    0x11, 0x11, 0x23, 0x44, 0x45, 0x55, 0x66, 0x66, 0x67, 0x77, 0x77, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x89, 0x88, 0x88, 0x88, 0x88, 0x77, 0x77, 0x77, 0x77, 0x76, 0x66, 0x53, 0x33, 0x33, 0x32, 0x10, 
    0x11, 0x12, 0x33, 0x44, 0x55, 0x55, 0x66, 0x66, 0x67, 0x77, 0x77, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x89, 0x99, 0x98, 0x88, 0x88, 0x87, 0x77, 0x77, 0x77, 0x77, 0x66, 0x64, 0x33, 0x33, 0x32, 0x20, 
    0x11, 0x13, 0x33, 0x44, 0x55, 0x56, 0x66, 0x66, 0x67, 0x77, 0x78, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x99, 0x99, 0x99, 0x98, 0x88, 0x88, 0x87, 0x77, 0x77, 0x77, 0x66, 0x65, 0x33, 0x33, 0x32, 0x20, 
    0x11, 0x23, 0x34, 0x44, 0x55, 0x66, 0x66, 0x66, 0x67, 0x77, 0x78, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x89, 0x88, 0x88, 0x77, 0x77, 0x77, 0x77, 0x65, 0x43, 0x33, 0x32, 0x20, 
    0x12, 0x23, 0x34, 0x45, 0x55, 0x66, 0x66, 0x66, 0x67, 0x77, 0x78, 0x88, 0x88, 0x88, 0x88, 0x88, 0x98, 0x88, 0x89, 0x99, 0x99, 0x99, 0x99, 0x99, 0x88, 0x88, 0x88, 0x77, 0x77, 0x77, 0x76, 0x66, 0x54, 0x33, 0x43, 0x20, 
    0x12, 0x33, 0x34, 0x45, 0x55, 0x66, 0x66, 0x66, 0x77, 0x77, 0x78, 0x88, 0x88, 0x88, 0x88, 0x89, 0x99, 0x99, 0x89, 0x99, 0x99, 0x99, 0x99, 0x99, 0x88, 0x88, 0x88, 0x87, 0x77, 0x77, 0x77, 0x77, 0x64, 0x44, 0x43, 0x20, 
    0x12, 0x33, 0x34, 0x55, 0x56, 0x66, 0x66, 0x77, 0x77, 0x77, 0x88, 0x88, 0x88, 0x88, 0x88, 0x89, 0x99, 0x99, 0x99, 0x88, 0x89, 0x99, 0x99, 0x99, 0x88, 0x88, 0x88, 0x87, 0x77, 0x77, 0x77, 0x77, 0x65, 0x44, 0x43, 0x20, 
    0x12, 0x33, 0x44, 0x55, 0x56, 0x66, 0x67, 0x77, 0x77, 0x77, 0x88, 0x88, 0x88, 0x88, 0x88, 0x89, 0x99, 0x99, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x77, 0x77, 0x77, 0x77, 0x65, 0x44, 0x43, 0x20, 
    0x12, 0x33, 0x44, 0x55, 0x56, 0x66, 0x67, 0x77, 0x77, 0x77, 0x88, 0x88, 0x88, 0x88, 0x88, 0x89, 0x99, 0x98, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x77, 0x77, 0x77, 0x77, 0x77, 0x65, 0x44, 0x43, 0x20, 
    0x12, 0x33, 0x44, 0x55, 0x56, 0x66, 0x77, 0x77, 0x77, 0x77, 0x78, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x87, 0x77, 0x77, 0x77, 0x75, 0x54, 0x43, 0x20, 
    0x22, 0x33, 0x44, 0x55, 0x56, 0x67, 0x67, 0x77, 0x77, 0x77, 0x77, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x87, 0x77, 0x77, 0x77, 0x77, 0x77, 0x76, 0x43, 0x32, 0x20, 
    0x22, 0x33, 0x44, 0x55, 0x56, 0x67, 0x66, 0x67, 0x77, 0x77, 0x77, 0x77, 0x77, 0x78, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x87, 0x77, 0x77, 0x77, 0x76, 0x66, 0x67, 0x77, 0x77, 0x76, 0x43, 0x22, 0x20, 
    0x22, 0x34, 0x45, 0x55, 0x56, 0x66, 0x66, 0x55, 0x55, 0x56, 0x66, 0x66, 0x66, 0x77, 0x77, 0x78, 0x88, 0x88, 0x88, 0x88, 0x88, 0x77, 0x77, 0x66, 0x55, 0x55, 0x44, 0x44, 0x44, 0x56, 0x67, 0x77, 0x76, 0x43, 0x32, 0x20, 
    0x22, 0x34, 0x45, 0x55, 0x55, 0x55, 0x44, 0x44, 0x43, 0x33, 0x33, 0x34, 0x44, 0x56, 0x66, 0x77, 0x88, 0x88, 0x88, 0x88, 0x87, 0x76, 0x66, 0x54, 0x44, 0x43, 0x34, 0x33, 0x44, 0x45, 0x56, 0x77, 0x76, 0x42, 0x32, 0x20, 
    0x12, 0x34, 0x45, 0x45, 0x55, 0x44, 0x44, 0x33, 0x33, 0x33, 0x33, 0x33, 0x34, 0x45, 0x55, 0x67, 0x78, 0x88, 0x88, 0x88, 0x87, 0x66, 0x55, 0x44, 0x33, 0x33, 0x33, 0x44, 0x44, 0x44, 0x45, 0x67, 0x76, 0x43, 0x33, 0x30, 
    0x12, 0x34, 0x44, 0x44, 0x44, 0x44, 0x43, 0x33, 0x33, 0x33, 0x33, 0x33, 0x34, 0x44, 0x55, 0x66, 0x78, 0x88, 0x88, 0x88, 0x76, 0x65, 0x55, 0x44, 0x44, 0x44, 0x55, 0x55, 0x55, 0x55, 0x54, 0x56, 0x76, 0x43, 0x33, 0x30, 
    0x12, 0x34, 0x45, 0x44, 0x44, 0x44, 0x44, 0x55, 0x55, 0x55, 0x55, 0x55, 0x55, 0x55, 0x56, 0x66, 0x78, 0x88, 0x88, 0x88, 0x65, 0x55, 0x55, 0x55, 0x55, 0x56, 0x66, 0x66, 0x66, 0x65, 0x55, 0x56, 0x76, 0x43, 0x33, 0x30, 
    0x12, 0x34, 0x55, 0x44, 0x43, 0x44, 0x55, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x77, 0x88, 0x99, 0x87, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x55, 0x56, 0x76, 0x43, 0x33, 0x30, 
    0x12, 0x34, 0x54, 0x44, 0x44, 0x55, 0x56, 0x66, 0x66, 0x66, 0x77, 0x66, 0x66, 0x66, 0x66, 0x66, 0x78, 0x88, 0x99, 0x88, 0x76, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x67, 0x86, 0x43, 0x33, 0x30, 
    0x22, 0x34, 0x54, 0x44, 0x55, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x67, 0x78, 0x88, 0x99, 0x88, 0x76, 0x66, 0x66, 0x66, 0x66, 0x65, 0x65, 0x66, 0x66, 0x66, 0x66, 0x67, 0x86, 0x33, 0x33, 0x30, 
    0x22, 0x34, 0x45, 0x45, 0x56, 0x66, 0x66, 0x56, 0x55, 0x54, 0x44, 0x55, 0x66, 0x66, 0x67, 0x77, 0x77, 0x88, 0x99, 0x88, 0x76, 0x56, 0x66, 0x66, 0x66, 0x54, 0x44, 0x45, 0x55, 0x56, 0x66, 0x67, 0x87, 0x44, 0x33, 0x30, 
    0x12, 0x34, 0x45, 0x55, 0x56, 0x66, 0x55, 0x55, 0x44, 0x33, 0x33, 0x45, 0x55, 0x66, 0x67, 0x77, 0x77, 0x88, 0x99, 0x98, 0x76, 0x55, 0x66, 0x66, 0x65, 0x54, 0x44, 0x45, 0x55, 0x56, 0x66, 0x67, 0x87, 0x44, 0x43, 0x40, 
    0x12, 0x44, 0x45, 0x55, 0x56, 0x66, 0x55, 0x43, 0x44, 0x33, 0x23, 0x45, 0x55, 0x56, 0x67, 0x77, 0x67, 0x78, 0x99, 0x98, 0x76, 0x66, 0x65, 0x67, 0x65, 0x54, 0x44, 0x55, 0x55, 0x55, 0x66, 0x67, 0x88, 0x54, 0x44, 0x40, 
    0x12, 0x44, 0x45, 0x55, 0x66, 0x65, 0x44, 0x45, 0x64, 0x33, 0x33, 0x45, 0x65, 0x56, 0x77, 0x77, 0x67, 0x78, 0x99, 0x98, 0x76, 0x66, 0x65, 0x67, 0x76, 0x54, 0x44, 0x56, 0x65, 0x55, 0x56, 0x77, 0x88, 0x54, 0x44, 0x40, 
    0x12, 0x45, 0x55, 0x55, 0x66, 0x65, 0x44, 0x46, 0x65, 0x33, 0x43, 0x45, 0x55, 0x45, 0x77, 0x77, 0x77, 0x78, 0x99, 0x98, 0x77, 0x76, 0x66, 0x56, 0x76, 0x55, 0x55, 0x56, 0x66, 0x66, 0x67, 0x78, 0x88, 0x64, 0x44, 0x40, 
    0x13, 0x45, 0x55, 0x55, 0x66, 0x55, 0x55, 0x55, 0x55, 0x44, 0x44, 0x55, 0x66, 0x56, 0x77, 0x77, 0x66, 0x78, 0x99, 0x98, 0x77, 0x77, 0x66, 0x66, 0x67, 0x76, 0x66, 0x66, 0x67, 0x78, 0x78, 0x88, 0x88, 0x74, 0x55, 0x40, 
    0x23, 0x45, 0x55, 0x56, 0x66, 0x65, 0x55, 0x55, 0x55, 0x55, 0x55, 0x66, 0x66, 0x66, 0x67, 0x77, 0x66, 0x78, 0x99, 0x98, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x88, 0x88, 0x88, 0x89, 0x74, 0x45, 0x50, 
    0x33, 0x45, 0x55, 0x55, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x67, 0x77, 0x66, 0x78, 0x99, 0x98, 0x87, 0x88, 0x88, 0x88, 0x87, 0x77, 0x77, 0x77, 0x77, 0x88, 0x88, 0x99, 0x99, 0x76, 0x79, 0xa0, 
    0x33, 0x45, 0x55, 0x55, 0x66, 0x66, 0x66, 0x66, 0x66, 0x67, 0x77, 0x66, 0x67, 0x77, 0x77, 0x77, 0x77, 0x78, 0x99, 0x98, 0x88, 0x88, 0x88, 0x88, 0x88, 0x87, 0x77, 0x77, 0x78, 0x88, 0x98, 0x98, 0x99, 0x9b, 0xdd, 0xe0, 
    0x13, 0x45, 0x55, 0x55, 0x66, 0x66, 0x66, 0x66, 0x66, 0x67, 0x77, 0x77, 0x78, 0x88, 0x77, 0x77, 0x77, 0x78, 0x99, 0x98, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x89, 0x99, 0x99, 0x89, 0xbe, 0xde, 0xe0, 
    0x13, 0x45, 0x55, 0x56, 0x66, 0x66, 0x66, 0x66, 0x67, 0x77, 0x87, 0x88, 0x88, 0x88, 0x87, 0x77, 0x77, 0x78, 0x99, 0x98, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x89, 0x99, 0x99, 0x99, 0x99, 0x99, 0x9a, 0xbe, 0xff, 0xf0, 
    0x13, 0x45, 0x55, 0x56, 0x67, 0x77, 0x77, 0x77, 0x78, 0x88, 0x88, 0x88, 0x88, 0x88, 0x87, 0x77, 0x77, 0x78, 0x99, 0x98, 0x88, 0x88, 0x88, 0x88, 0x88, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0xab, 0xff, 0xf0, 
    0x12, 0x45, 0x55, 0x66, 0x77, 0x77, 0x78, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x87, 0x77, 0x77, 0x78, 0x99, 0x98, 0x88, 0x88, 0x88, 0x88, 0x88, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x9a, 0x97, 0xbf, 0xf0, 
    0x02, 0x45, 0x55, 0x67, 0x77, 0x78, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x77, 0x77, 0x78, 0x99, 0x98, 0x88, 0x88, 0x88, 0x88, 0x88, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x9a, 0x87, 0x8d, 0xf0, 
    0x11, 0x44, 0x55, 0x67, 0x77, 0x78, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x87, 0x77, 0x77, 0x88, 0x99, 0x98, 0x88, 0x88, 0x88, 0x88, 0x88, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x87, 0x8c, 0xf0, 
    0x11, 0x45, 0x55, 0x67, 0x77, 0x88, 0x88, 0x99, 0x99, 0x99, 0x99, 0x88, 0x88, 0x88, 0x77, 0x77, 0x77, 0x88, 0x99, 0x98, 0x88, 0x88, 0x88, 0x88, 0x88, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x88, 0x8b, 0xf0, 
    0x01, 0x44, 0x55, 0x67, 0x77, 0x88, 0x88, 0x99, 0x99, 0x99, 0x99, 0x88, 0x98, 0x87, 0x77, 0x77, 0x77, 0x88, 0x99, 0x98, 0x88, 0x88, 0x87, 0x88, 0x88, 0x89, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x9a, 0x88, 0x9c, 0xf0, 
    0x11, 0x34, 0x55, 0x67, 0x77, 0x88, 0x88, 0x99, 0x99, 0x99, 0x99, 0x99, 0x98, 0x77, 0x77, 0x77, 0x77, 0x89, 0x99, 0x99, 0x88, 0x88, 0x87, 0x78, 0x88, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x88, 0x9a, 0xf0, 
    0x10, 0x35, 0x55, 0x67, 0x77, 0x88, 0x88, 0x99, 0x99, 0x99, 0x99, 0x99, 0x88, 0x76, 0x67, 0x77, 0x77, 0x89, 0x99, 0x98, 0x88, 0x88, 0x87, 0x77, 0x78, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x9a, 0xba, 0x8a, 0xe0, 
    0x11, 0x34, 0x45, 0x66, 0x77, 0x88, 0x88, 0x99, 0x99, 0x99, 0x99, 0x88, 0x88, 0x76, 0x67, 0x77, 0x78, 0x89, 0x99, 0x98, 0x88, 0x88, 0x87, 0x76, 0x78, 0x88, 0x88, 0x99, 0x99, 0x99, 0x99, 0x99, 0x9a, 0xff, 0xdd, 0xf0, 
    0x23, 0x44, 0x55, 0x56, 0x67, 0x88, 0x88, 0x89, 0x99, 0x99, 0x98, 0x88, 0x87, 0x76, 0x77, 0x77, 0x78, 0x89, 0x99, 0x98, 0x88, 0x88, 0x88, 0x76, 0x77, 0x88, 0x88, 0x88, 0x99, 0x99, 0x99, 0x99, 0x9b, 0xff, 0xff, 0xf0, 
    0x24, 0x44, 0x45, 0x56, 0x67, 0x78, 0x88, 0x88, 0x99, 0x99, 0x88, 0x87, 0x87, 0x76, 0x67, 0x77, 0x78, 0x89, 0x99, 0x98, 0x87, 0x77, 0x77, 0x77, 0x77, 0x78, 0x88, 0x88, 0x89, 0x99, 0x99, 0x99, 0x8b, 0xff, 0xfe, 0xe0, 
    0x14, 0x54, 0x55, 0x56, 0x66, 0x77, 0x78, 0x88, 0x88, 0x88, 0x87, 0x77, 0x77, 0x76, 0x67, 0x66, 0x77, 0x88, 0x99, 0x88, 0x77, 0x76, 0x77, 0x77, 0x77, 0x77, 0x88, 0x88, 0x88, 0x99, 0x99, 0x99, 0x9a, 0xcc, 0xa9, 0x80, 
    0x14, 0x54, 0x45, 0x56, 0x66, 0x77, 0x77, 0x88, 0x88, 0x87, 0x77, 0x77, 0x77, 0x76, 0x67, 0x66, 0x67, 0x77, 0x88, 0x87, 0x66, 0x66, 0x67, 0x78, 0x88, 0x78, 0x88, 0x88, 0x88, 0x89, 0x99, 0x98, 0x98, 0x65, 0x66, 0x60, 
    0x23, 0x44, 0x45, 0x56, 0x66, 0x67, 0x77, 0x78, 0x87, 0x77, 0x77, 0x77, 0x77, 0x77, 0x67, 0x66, 0x66, 0x77, 0x77, 0x76, 0x66, 0x66, 0x67, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x98, 0x76, 0x76, 0x70, 
    0x56, 0x64, 0x45, 0x66, 0x66, 0x67, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x76, 0x66, 0x77, 0x77, 0x77, 0x76, 0x66, 0x66, 0x67, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x78, 0x70, 
    0x89, 0x96, 0x45, 0x56, 0x66, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x76, 0x66, 0x77, 0x77, 0x77, 0x76, 0x66, 0x66, 0x77, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x87, 0x87, 0x70, 
    0x9a, 0xb9, 0x55, 0x56, 0x66, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x66, 0x77, 0x77, 0x77, 0x77, 0x66, 0x67, 0x78, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x87, 0x77, 0x70, 
    0xaa, 0xba, 0x55, 0x56, 0x67, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x77, 0x77, 0x70, 
    0x88, 0x64, 0x45, 0x56, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x78, 0x88, 0x88, 0x77, 0x77, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x87, 0x77, 0x77, 0x70, 
    0x21, 0x11, 0x35, 0x56, 0x67, 0x77, 0x77, 0x87, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x88, 0x88, 0x87, 0x77, 0x77, 0x78, 0x88, 0x88, 0x88, 0x88, 0x88, 0x87, 0x77, 0x77, 0x70, 
    0x11, 0x12, 0x34, 0x56, 0x66, 0x77, 0x77, 0x88, 0x87, 0x77, 0x76, 0x66, 0x67, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x78, 0x87, 0x77, 0x77, 0x77, 0x78, 0x88, 0x88, 0x88, 0x88, 0x88, 0x87, 0x77, 0x77, 0x70, 
    0x12, 0x33, 0x24, 0x56, 0x66, 0x77, 0x77, 0x88, 0x88, 0x77, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x77, 0x76, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x78, 0x88, 0x89, 0x98, 0x88, 0x88, 0x87, 0x77, 0x77, 0x70, 
    0x23, 0x33, 0x33, 0x56, 0x66, 0x77, 0x77, 0x89, 0x98, 0x87, 0x76, 0x65, 0x55, 0x55, 0x56, 0x55, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x55, 0x55, 0x56, 0x78, 0x88, 0x99, 0x88, 0x87, 0x78, 0x87, 0x77, 0x77, 0x70, 
    0x33, 0x32, 0x33, 0x45, 0x66, 0x66, 0x77, 0x88, 0x99, 0x88, 0x77, 0x66, 0x66, 0x66, 0x65, 0x55, 0x55, 0x66, 0x66, 0x78, 0x87, 0x76, 0x66, 0x66, 0x66, 0x67, 0x78, 0x88, 0x98, 0x88, 0x87, 0x77, 0x77, 0x77, 0x77, 0x70, 
    0x33, 0x33, 0x33, 0x45, 0x66, 0x67, 0x77, 0x78, 0x89, 0x98, 0x87, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x67, 0x8a, 0xa9, 0x77, 0x67, 0x77, 0x77, 0x77, 0x78, 0x88, 0x88, 0x88, 0x77, 0x77, 0x77, 0x77, 0x77, 0x70, 
    0x32, 0x22, 0x22, 0x23, 0x45, 0x55, 0x57, 0x77, 0x89, 0x98, 0x87, 0x76, 0x77, 0x66, 0x66, 0x66, 0x66, 0x66, 0x77, 0x88, 0x88, 0x77, 0x77, 0x77, 0x77, 0x88, 0x88, 0x88, 0x88, 0x87, 0x77, 0x77, 0x77, 0x77, 0x77, 0x70, 
    0x11, 0x11, 0x11, 0x11, 0x12, 0x33, 0x36, 0x77, 0x88, 0x98, 0x87, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x78, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x70, 
    0x12, 0x10, 0x10, 0x13, 0x45, 0x33, 0x36, 0x77, 0x78, 0x98, 0x87, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x87, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x70, 
    0x11, 0x13, 0x01, 0x15, 0xcc, 0x23, 0x36, 0x77, 0x77, 0x88, 0x87, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x78, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x87, 0x77, 0x77, 0x87, 0x77, 0x77, 0x77, 0x70, 
    0x46, 0x78, 0x11, 0x02, 0xcb, 0x33, 0x35, 0x77, 0x77, 0x88, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x99, 0x88, 0x87, 0x77, 0x77, 0x88, 0x77, 0x77, 0x77, 0x70, 
    0x99, 0x97, 0x11, 0x13, 0x9a, 0x52, 0x35, 0x66, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x88, 0x88, 0x88, 0x88, 0x89, 0x99, 0x88, 0x77, 0x77, 0x77, 0x88, 0x87, 0x77, 0x77, 0x70, 
    0x55, 0x45, 0x11, 0x11, 0x45, 0x53, 0x35, 0x66, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x88, 0x88, 0x88, 0x88, 0x89, 0x99, 0x88, 0x77, 0x77, 0x78, 0x78, 0x88, 0x76, 0x67, 0x70, 
    0x11, 0x10, 0x11, 0x11, 0x11, 0x12, 0x25, 0x66, 0x66, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x88, 0x88, 0x88, 0x88, 0x99, 0x98, 0x87, 0x77, 0x77, 0x78, 0x77, 0x88, 0x87, 0x55, 0x50, 
    0x22, 0x22, 0x11, 0x11, 0x12, 0x22, 0x35, 0x66, 0x66, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x87, 0x78, 0x77, 0x78, 0x88, 0x88, 0x89, 0x99, 0x99, 0x88, 0x87, 0x77, 0x77, 0x88, 0x87, 0x77, 0x87, 0x54, 0x40, 
    0x44, 0x43, 0x22, 0x22, 0x33, 0x44, 0x45, 0x55, 0x66, 0x66, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x89, 0x99, 0x99, 0x99, 0x88, 0x87, 0x76, 0x77, 0x88, 0x87, 0x77, 0x78, 0xaa, 0xa0, 
    0x55, 0x44, 0x32, 0x22, 0x33, 0x44, 0x45, 0x55, 0x66, 0x66, 0x67, 0x77, 0x77, 0x77, 0x77, 0x78, 0x88, 0x88, 0x88, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x99, 0x88, 0x77, 0x77, 0x78, 0x88, 0x88, 0x77, 0x78, 0xac, 0xc0, 
    0x44, 0x43, 0x32, 0x22, 0x23, 0x33, 0x44, 0x44, 0x55, 0x55, 0x55, 0x66, 0x66, 0x66, 0x66, 0x66, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x77, 0x66, 0x66, 0x66, 0x66, 0x66, 0x67, 0x65, 0x66, 0x79, 0xa0
    
};





void BP1_CallBack(void)
{
    DC_SetLow();
    LATBbits.LATB12 = 0;
    
    Delay(300);
    
    /*Deactivate reset*/
    LATBbits.LATB12 = 1;
    //Set display off
    WriteComm(0xAE); 
    
    //Disable internal VDD regulator
    WriteComm(0xAB);
    WriteComm(0x00);
    
    LATAbits.LATA0 = 1;
    Delay(2000);
    LATAbits.LATA0 = 0;
    
    
}

void RandomPlace(uint8_t tab[]){
    
    uint8_t offsetx = tab[1]-tab[0];
    uint8_t offsety = tab[3]-tab[2];
    
    uint8_t x = rand()%(64-offsetx);
    uint8_t y = rand()%(128-offsety);
    
    WriteComm(0x15); 
    WriteComm(x); 
    WriteComm(x+offsetx);
    
    WriteComm(0x75); 
    WriteComm(y); 
    WriteComm(y+offsety);
    
    uint32_t size = (offsetx+1)*(offsety+1);
    
    for (uint32_t i = 0; i<size;i++){
        
        WriteData(tab[i+4]);
        
    }
    
    Delay(100);
    
    for (uint32_t i = 0; i<size;i++){
        WriteData(0xFF);
    }
    
}


int main(void)
{
//    uint16_t i=0;
//    uint16_t j = sizeof(test_blue)-1;
//    size_t image_size = sizeof(test_blue);
    
    // initialize the device
    SYSTEM_Initialize();
    
    BP1_SetInterruptHandler(BP1_CallBack);
    
    DC_SetLow();
    
    RST_SetHigh();

    
    /*Activate reset*/
    RST_SetLow();
    
    Delay(300);
    
    /*Deactivate reset*/
    RST_SetHigh();
    
    /*Send initialization data to the screen*/
    Screen_SPI_Init();
    
    /*Activate VCC during delay
     LED to indicate time */
    LATAbits.LATA0 = 1;
    Delay(5000);
    LATAbits.LATA0 = 0;
    Delay(300);
    
    WriteComm(0xAF);
    
    
    
    
    Delay(200);
    
    //WriteComm(0x5C);
        
    //Set beginning and end RAM address
    WriteRam(0,63,0,127);
    
    WriteComm(0x15); 
    WriteComm(0); 
    WriteComm(63);
    
    WriteComm(0x75); 
    WriteComm(0);
    WriteComm(127);    
        
    Fill(0xFF);
    
    while (1)
    {
        
//        RandomPlace(tab);
        Fill(0x00);
        Delay(1000);
        Fill(0xFF);
        Delay(1000);
        
    }

    return 1;
}
/**
 End of File
*/

